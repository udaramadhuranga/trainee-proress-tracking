<div class="container">
  <div class="card bg-dark mt-5" style="width: 75%; margin: 10px auto">
    <div class="card-header text-center labels mt-5" style="font-size: large">
      Add New User
    </div>
    <div class="card-body">
      <form [formGroup]="user">
        <div class="form-group mb-3 mt-5">
          <label for="username" class="form-label labels">UserName</label>
          <input
            type="text"
            class="form-control"
            id="username"
            name="username"
            placeholder="Podi Mahinda"
            formControlName="username"
          />
          <span
            class="mb-1"
            style="color: red"
            *ngIf="customeValidationService.isFieldValid(user, 'username')"
            >This is Required and should greatter than 3 characters</span
          >
        </div>

        <div class="form-group mb-3">
          <label for="email" class="form-label labels">Email address</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            placeholder="name@example.com"
            formControlName="email"
          />
          <span
            class="mb-1"
            style="color: red"
            *ngIf="customeValidationService.isFieldValid(user, 'email')"
            >This is Required and should greatter than 5 characters</span
          >
          <br />
          <span
            class="mb-2"
            style="color: red"
            *ngIf="customeValidationService.isEmailValid(user, 'email')"
            >Wrong Email Pattern</span
          >
        </div>

        <div class="form-group mb-3">
          <label for="password" class="form-label labels">Password</label>
          <input
            type="password"
            class="form-control"
            id="password"
            name="password"
            placeholder="U1234k0#"
            formControlName="password"
          />
          <span
            class="mb-1"
            style="color: red"
            *ngIf="customeValidationService.isFieldValid(user, 'password')"
            >This is Required</span
          >
          <br />
          <span
            class="mb-1"
            style="color: red"
            *ngIf="customeValidationService.isPasswordValid(user, 'password')"
            >Wrong Password Patten . Length should be 8-10 . Should have
            lowercase uppercase numbers and special character
          </span>
        </div>

        <div class="form-group mb-3">
          <label for="password" class="form-label labels"
            >Confirm Password</label
          >
          <input
            type="password"
            class="form-control"
            id="confirmPassword"
            name="confirmPassword"
            placeholder="U1234k0#"
            formControlName="confirmPassword"
          />
          <span
            class="mb-1"
            style="color: red"
            *ngIf="
              customeValidationService.isFieldValid(user, 'confirmPassword')
            "
            >This is Required</span
          >
          <br />
          <span
            class="mb-1"
            style="color: red"
            *ngIf="
              customeValidationService.isCompare(
                user,
                'confirmPassword',
                'password'
              )
            "
            >Password miss match with Confirm Password</span
          >
        </div>

        <div class="form-group mb-3">
          <label for="address" class="form-label labels">Address</label>
          <textarea
            class="form-control"
            name="address"
            id="address"
            rows="2"
            formControlName="address"
          ></textarea>
          <span
            class="mb-1"
            style="color: red"
            *ngIf="customeValidationService.isFieldValid(user, 'address')"
            >This is Required and should greatter than 4 characters</span
          >
        </div>

        <div class="form-group mb-3">
          <label for="phoneNo" class="form-label labels">Phone Number</label>
          <input
            type="text"
            class="form-control"
            id="phoneNo"
            name="phoneNo"
            placeholder="0716787680"
            formControlName="phoneNo"
          />
          <span
            class="mb-1"
            style="color: red"
            *ngIf="customeValidationService.isFieldValid(user, 'phoneNo')"
            >This is Required and should greatter than 9 numbers</span
          >
          <br />
          <span
            class="mb-1"
            style="color: red"
            *ngIf="customeValidationService.isPhoneValid(user, 'phoneNo')"
            >Not Valid Phone Number in Sri Lanka</span
          >
        </div>
        <div class="mb-2" *ngIf="authService.roleMatch(['ROLE_ADMIN'])">
          <label class="form-label mb-3 labels">Role</label>

          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              id="role2"
              formControlName="role"
              value="trainer"
            />
            <label class="form-check-label labels" for="role2"> Trainer </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              id="role1"
              formControlName="role"
              value="trainee"
            />
            <label class="form-check-label labels" for="role1"> Trainee </label>
          </div>
        </div>
        <button
          type="button"
          class="btn btn-primary btn-lg"
          (click)="saveUser()"
        >
          Save
        </button>
      </form>

      <div class="card-footer" *ngIf="showAlert">
        <div class="alert alert-success" role="alert">
          <strong> Successfully Saved </strong>
          <button class="close" (click)="(closeAlert)">&times;</button>
        </div>
      </div>
    </div>
  </div>
</div>
